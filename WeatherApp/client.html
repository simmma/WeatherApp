<script type="module">
  import { createApp } from
    'https://unpkg.com/vue@3/dist/vue.esm-browser.js'
  createApp({
    data() {
      return {
        title: 'Welcome to my Weather App',
        location: '',
        display: null
      }
    },
    methods: {
      Go:go
    }
  }).mount('#app')
  function go() {
    //this.display += "Weather for " + this.location
    console.log("go: called")
    let prom = fetch("http://127.0.0.1:3000/location/" + this.location)
      .then(response => response.json())
      .then(response => {
        this.display = response
        console.log(response)
      })
    this.location = ""
    console.log("go: fetched!")
  }
</script>

<body>
  <div id="app">
    <h1>{{ title }}</h1>
    <p>Where are you going?</p>
    <input v-on:keydown.enter="Go" v-model="location">
    <button @click="Go">Go!</button>
    <p id="weatherData">{{ display }}</p>
  </div>
</body>

<style>
  body {
      background-color: rgb(0,0,0);
  }
  div {
      margin-top: 100px;
      margin-bottom: 100px;
      margin-right: 150px;
      margin-left: 80px;
  }
   h1 {
       color: indianred;
   }
   p {
    color: wheat;
   }
   button {
    background-color:indianred;
   }
   button:hover {
    background-color:pink;
   }
</style>